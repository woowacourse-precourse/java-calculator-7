# java-calculator-precourse
### í”„ë¦¬ì½”ìŠ¤ 1ì£¼ì°¨ [ì˜¤ì˜ˆí˜„]
# ğŸ”† ë¬¸ìì—´ ë§ì…ˆ ê³„ì‚°ê¸°
ì…ë ¥í•œ ë¬¸ìì—´ì—ì„œ ìˆ«ìë¥¼ ì¶”ì¶œí•˜ì—¬ ë”í•˜ëŠ” ê³„ì‚°ê¸°ë¥¼ êµ¬í˜„í•œë‹¤.

## âœ… ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
- `,`ì™€ `:`ì„ êµ¬ë¶„ìë¡œ í•˜ì—¬ ë¬¸ìì—´ ì „ë‹¬í•œë‹¤.  
    > `"1,2:3" => 6`

- `//`ê³¼ `\n` ì‚¬ì´ `ì»¤ìŠ¤í…€ êµ¬ë¶„ì` ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   
    > `"//;\n1;2;3" => 6` : `;`ê°€ ì»¤ìŠ¤í…€ êµ¬ë¶„ìë¡œ ì‚¬ìš©ë¨  

- ì‚¬ìš©ìê°€ ì˜ëª»ëœ ê°’ì„ ì…ë ¥í•  ê²½ìš° `IllegalArgumentException`ì„ ë°œìƒ í›„ ì¢…ë£Œëœë‹¤.  

## âœ… ì…ì¶œë ¥ ìš”êµ¬ì‚¬í•­

- ì…ë ¥ : `êµ¬ë¶„ì`ì™€ `ì–‘ìˆ˜`ë¡œ êµ¬ì„±ëœ ë¬¸ìì—´  


- ì¶œë ¥ : `ë§ì…ˆ ê²°ê³¼`


- ì‹¤í–‰ ê²°ê³¼

    ```
    ë§ì…ˆí•  ë¬¸ìì—´ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.
    1,2:3
    ê²°ê³¼ : 6
    ```

## â˜‘ï¸ êµ¬í˜„í•  ê¸°ëŠ¥ ëª©ë¡

- [x] ì»¤ìŠ¤í…€ êµ¬ë¶„ìê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜  


- [x] ì»¤ìŠ¤í…€ êµ¬ë¶„ìë¥¼ ë¬¸ìì—´ì—ì„œ ë¶„ë¦¬í•˜ëŠ” í•¨ìˆ˜


- [x] ë¹ˆ ë¬¸ìì—´ì¸ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜


- [x] êµ¬ë¶„ìë¡œ ë¶„ë¦¬í•˜ì—¬ ìˆ«ì ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜  


- [x] ì¶”ì¶œí•œ ìˆ«ìê°€ ìŒìˆ˜ì¸ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜


- [x] ì¶”ì¶œí•œ ìˆ«ìë¥¼ ë”í•˜ëŠ” í•¨ìˆ˜

 
- [x] ì¶œë ¥ í˜•ì‹ëŒ€ë¡œ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜  

# â­TDD ê°œë°œ ë°©ì‹ì„ ì ìš©í•˜ê¸°!

## **ì§ˆë¬¸**

1. ì‚¬ìš©ì ì…ë ¥ì—ì„œ ìˆ«ìë¥¼ ì˜¬ë°”ë¥´ê²Œ ì¶”ì¶œí•  ìˆ˜ ìˆë‚˜?  


2. ì¶”ì¶œí•œ ìˆ«ìë“¤ì„ ë”í•˜ì—¬ ì˜¬ë°”ë¥¸ ê²°ê³¼ê°€ ë‚˜ì˜¤ë‚˜? 


3. ì»¤ìŠ¤í…€ êµ¬ë¶„ìê°€ ì˜¬ë°”ë¥´ê²Œ ì¸ì‹ë˜ë‚˜?


4. ì‚¬ìš©ì ì…ë ¥ì´ ì˜ëª»ëì„ ê²½ìš°, `IllegalArgumentException`ì´ ë°œìƒë˜ë‚˜?


5. ë¹ˆ ë¬¸ìì—´ì„ ì…ë ¥í–ˆì„ ë•Œ, ê²°ê³¼ê°€ 0ìœ¼ë¡œ ë‚˜ì˜¤ë‚˜?


6. ìŒìˆ˜ê°€ í¬í•¨ë˜ì—ˆì„ ê²½ìš°, `IllegalArgumentException`ì´ ë°œìƒë˜ë‚˜?


7. ì¶œë ¥ í˜•ì‹ì´ ì˜¬ë°”ë¥´ê²Œ ë‚˜ì˜¤ë‚˜?



## **ì‘ë‹µ**

### **1. ì‚¬ìš©ì ì…ë ¥ì—ì„œ ìˆ«ìë¥¼ ì˜¬ë°”ë¥´ê²Œ ì¶”ì¶œí•  ìˆ˜ ìˆë‚˜?**

```
class ApplicationTest extends NsTest {
  @Test
  @DisplayName("ì‰¼í‘œì™€ ì½œë¡ ìœ¼ë¡œ êµ¬ë¶„ëœ ë¬¸ìì—´ì—ì„œ ìˆ«ì ì¶”ì¶œ")
  void ìˆ«ì_ì¶”ì¶œ_í…ŒìŠ¤íŠ¸() {
    String input = "1,2,3";
    int[] result = Application.extractNumbers(input, Application.separators);
    assertThat(result).contains(1, 2, 3);
  }
}
```

`Application.extractNumbers`ì™€ `Application.separators` ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´ í…ŒìŠ¤íŠ¸ì— ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤.  
=> `Application` í´ë˜ìŠ¤ì— ìˆ«ìë¥¼ ì¶”ì¶œí•˜ëŠ” `extractNumbers`ì™€ ê¸°ë³¸ êµ¬ë¶„ì(`,`, `:`)ë¥¼ ë‹´ëŠ” `separators`ë¥¼ ë§Œë“¤ì–´ì£¼ì–´ í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ `green`ì„ ë„ë„ë¡ í•´ì¤€ë‹¤.

```
public class Application {
  public static List<String> separators = new ArrayList<>(Arrays.asList(",", ":"));

  public static int[] extractNumbers(String input, List<String> separators) {
      String separatorsRegex = String.join("|", separators);
      return Arrays.stream(input.split(separatorsRegex))
              .map(String::trim)
              .mapToInt(Integer::parseInt)
              .toArray();
}
```

ê¸°ë³¸ ì •ê·œì‹ì„ ë‹´ëŠ” ë¦¬ìŠ¤íŠ¸ì¸ `separators`ë¥¼ ìƒì„±í•œë‹¤.

ê·¸ë¦¬ê³  êµ¬ë¶„ìë¥¼ ë‹´ëŠ” ì •ê·œì‹ì„ `separatorsRegex`ë¡œ ì €ì¥í•˜ì—¬, `split` í•˜ì—¬ ì¶”ì¶œí•œ ìˆ«ìë¥¼ `int ë°°ì—´`ë¡œ ë°”ê¿”ì„œ ì›í•˜ëŠ” ìˆ«ìë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” `extractNumbers` ë©”ì„œë“œë¥¼ ìƒì„±í•œë‹¤.

> **_[ğŸ”¥ì§šê³  ë„˜ì–´ê°ˆ ë¶€ë¶„!!]_**  
>
> _-` throw new Error( )`ëŠ” ì¢‹ì§€ ì•Šë‹¤!_  
 _ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¬ ë•Œ ì‚¬ìš©í•˜ëŠ” `throw new Error( )`ë³´ë‹¤ ëª…ì‹œì ì¸ ì˜ˆì™¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. `Error`ëŠ” ì£¼ë¡œ `JVMì˜ ì‹¬ê°í•œ ì˜¤ë¥˜`ì— ì‚¬ìš©ë˜ë¯€ë¡œ, ë…¼ë¦¬ì ì¸ ì˜¤ë¥˜ ì²˜ë¦¬ì—ëŠ” `IllegalArgumentException` ê°™ì€ ì ì ˆí•œ ì˜ˆì™¸ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤._
>
> _-`separatorsRegex`ë¡œ ê¸°ë³¸ êµ¬ë¶„ìë¥¼ ì •ê·œì‹ìœ¼ë¡œ ì €ì¥í•œ ê²ƒì´ ì•„ë‹ˆë¼ `separators` ë¡œ ë”°ë¡œ ì €ì¥í•´ì„œ `join` í•´ì¤€ ì´ìœ ?_  
_ê¸°ë³¸ êµ¬ë¶„ìë¥¼ ê·¸ ìƒíƒœë¡œ ê·¸ëŒ€ë¡œ ì €ì¥í•˜ê³  ì‹¶ì—ˆê¸° ë•Œë¬¸ì´ë‹¤. ì´í›„ì— ê¸°ë³¸ êµ¬ë¶„ìë¥¼ ì¶”ê°€í•  ë•Œë„, ì •ê·œì‹ì„ í†µì§¸ë¡œ ë‹¤ì‹œ ì €ì¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì´ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•´ì£¼ê¸°ë§Œ í•˜ë©´ ëœë‹¤._

### **2. ì¶”ì¶œí•œ ìˆ«ìë“¤ì„ ë”í•˜ì—¬ ì˜¬ë°”ë¥¸ ê²°ê³¼ê°€ ë‚˜ì˜¤ë‚˜?**

```
class ApplicationTest extends NsTest {
...
  @Test
  @DisplayName("ë°°ì—´ì˜ ëª¨ë“  ìˆ«ìë¥¼ ë”í•¨")
  void ë”í•˜ëŠ”_ê¸°ëŠ¥_í…ŒìŠ¤íŠ¸() {
    int[] input = {1, 2, 3};
    int result = Application.sum(input);
    assertThat(result).isEqualTo(6);
  }
}
```

`Application.sum`ì„ ì°¾ì„ ìˆ˜ ì—†ì–´ í…ŒìŠ¤íŠ¸ì— ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤.  
=> `Application` í´ë˜ìŠ¤ì— ì¶”ì¶œí•œ ìˆ«ìë“¤ì„ ë”í•˜ëŠ” `sum` í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì£¼ì–´ í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ `green`ì„ ë„ë„ë¡ í•´ì¤€ë‹¤.

```
public class Application {
...
  public static int sum(int[] numbers) {
    return Arrays.stream(numbers).sum();
  }
}
```

`sum` í•¨ìˆ˜ë¥¼ ìƒì„±í•œë‹¤.

### **3. ì»¤ìŠ¤í…€ êµ¬ë¶„ìê°€ ì˜¬ë°”ë¥´ê²Œ ì¸ì‹ë˜ë‚˜?**

```
class ApplicationTest extends NsTest {
...
  @Test
  @DisplayName("ì»¤ìŠ¤í…€ êµ¬ë¶„ìë¥¼ ì‚¬ìš©í•œ ë¬¸ìì—´ ë§ì…ˆ")
  void ì»¤ìŠ¤í…€_êµ¬ë¶„ì_ì‚¬ìš©_í…ŒìŠ¤íŠ¸1() {
    assertSimpleTest(() -> {
      run("//;\\n1");
      assertThat(output()).contains("1");
    });
  }
    
  @Test
  void ì»¤ìŠ¤í…€_êµ¬ë¶„ì_ì‚¬ìš©_í…ŒìŠ¤íŠ¸2() {
    assertSimpleTest(() -> {
      run("//.\\n1");
      assertThat(output()).contains("1");
    });
  }
    
  @Test
  void ì»¤ìŠ¤í…€_êµ¬ë¶„ì_ì‚¬ìš©_í…ŒìŠ¤íŠ¸3() {
    assertSimpleTest(() -> {
      run("//\\t\\n1\\t2\\t3,4");
      assertThat(output()).contains("10");
    });
  }
}
```

ìš°ì„  ì»¤ìŠ¤í…€ êµ¬ë¶„ìë¥¼ ì§€ì •í•˜ëŠ” í˜•ì‹ì¸ `//(ì»¤ìŠ¤í…€\_êµ¬ë¶„ì)\\n` ì„ êµ¬ë³„í•  ìˆ˜ ì—†ì–´ í…ŒìŠ¤íŠ¸ì— ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤.  
=> ì»¤ìŠ¤í…€ êµ¬ë¶„ìë¥¼ ì¸ì‹í•˜ì—¬ `separators` ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•´ ì£¼ë©° í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ `green`ì„ ë„ë„ë¡ í•´ì¤€ë‹¤.

```
public class Application {
...
  public static final String CUSTOM_SEPARATOR_START = "//";
  public static final String CUSTOM_SEPARATOR_END = "\\\\n";
  public static final String CUSTOM_FORMAT = CUSTOM_SEPARATOR_START + "(.*?)" 
                                              + CUSTOM_SEPARATOR_END + "(.*)";

  public static boolean hasCustomSeparator(String input) {
    return input.startsWith(CUSTOM_SEPARATOR_START);
  }

  public static String parseCustomSeparator(String input, List<String> separators) {
    Matcher matcher = Pattern.compile(CUSTOM_FORMAT).matcher(input);

    if (matcher.find()) {
      String customSeparator = matcher.group(1);  // ì»¤ìŠ¤í…€ êµ¬ë¶„ì
      String remainingInput = matcher.group(2);  // ë‚˜ë¨¸ì§€ ë¬¸ìì—´

      separators.addFirst(Pattern.quote(customSeparator));
      return remainingInput;
    }
    throw new IllegalArgumentException("ì»¤ìŠ¤í…€ êµ¬ë¶„ì í˜•ì‹ì´ í‹€ë ¸ìŠµë‹ˆë‹¤.");
  }
}
```

`//(.*?)\\\\n(.*)` ì´ ì •ê·œì‹ì€ `//`ê³¼ `\\\\n`ì‚¬ì´ì˜ ë¬¸ìì™€ `\\\\n` ë’¤ì˜ ë¬¸ìë¥¼ ì €ì¥í•˜ì—¬ ê°ê° `customSeparator`ì™€ `remainingInput`ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆê²Œ í•œë‹¤.

ê·¸ë¦¬ê³  `customSepatator`ë¥¼ `separators` ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•´ ì¤€ë‹¤.

ë§Œì•½ `matcher`ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìœ¼ë©´, ì»¤ìŠ¤í…€ êµ¬ë¶„ì í˜•ì‹ì´ ì˜ëª»ë˜ì—ˆìœ¼ë¯€ë¡œ `IllegalArgumentException`ì„ ë°œìƒì‹œí‚¨ë‹¤.

> **_[ğŸ”¥ì§šê³  ë„˜ì–´ê°ˆ ë¶€ë¶„!!]_**
>
> _-`\\n`ì´ ì•„ë‹ˆë¼ `\\\\n`ì¸ ì´ìœ ?_  
_ì´ìŠ¤ì¼€ì´í”„ ë¬¸ìì´ê¸° ë•Œë¬¸ì— `\`ì€ `\\`ë¡œ ì…ë ¥ì„ í•´ì•¼ í•œë‹¤. ë”°ë¼ì„œ í„°ë¯¸ë„ì— `\n`ë¥¼ ì…ë ¥í•˜ë©´ ë‚´ë¶€ì ìœ¼ë¡œ `\\n`ìœ¼ë¡œ ì €ì¥ì´ ë˜ê³ , ì´ë¥¼ ì°¾ìœ¼ë ¤ë©´ `\\n`ì€ `\\\\n`ìœ¼ë¡œ ì…ë ¥í•´ì•¼ í•˜ë¯€ë¡œ `\\\\n`ìœ¼ë¡œ ì°¾ì•„ì•¼ ë‚´ë¶€ì ìœ¼ë¡œ `\\n`ìœ¼ë¡œ ì¸ì‹ë˜ì–´ ì°¾ì„ ìˆ˜ ìˆë‹¤._  
>
> _- `Pattern.quote`ë¥¼ ì‚¬ìš©í•œ ì´ìœ ?_  
_ì»¤ìŠ¤í…€ êµ¬ë¶„ìê°€ `.`ì´ë©´ `separators` ë¦¬ìŠ¤íŠ¸ì— ì €ì¥ë˜ì–´ `|`ë¡œ ì¡°ì¸ë˜ì–´ ì •ê·œì‹ìœ¼ë¡œ ì‚¬ìš©ë  ë•Œ, ëª¨ë“  ë¬¸ìë¥¼ ëœ»í•˜ëŠ” ì •ê·œì‹ ë¬¸ì `.`ì´ë‘ êµ¬ë¶„í•  ìˆ˜ê°€ ì—†ì–´ ëª¨ë“  ë¬¸ìì—´ì„ ë¹ˆ ë¬¸ìì—´ë¡œ ì¹˜í™˜í•´ ë²„ë¦¬ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ë‹¤. ì´ë¿ ì•„ë‹ˆë¼ `.`, `\t`, `(` ë“± ì •ê·œì‹ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë¬¸ìë“¤ì„ ê°ê° ì–´ë–»ê²Œ ì²˜ë¦¬í•´ì•¼ í•˜ì§€ ê³ ë¯¼í•˜ë‹¤ê°€ ì°¾ì•„ë‚¸ ë¬¸ë²•ì´ `Pattern.quote`ì´ë‹¤. ì´ ë¬¸ë²•ì€ ì •ê·œì‹ì—ì„œì˜ íŠ¹ìˆ˜ ë¬¸ìë¡œ ì²˜ë¦¬í•˜ì§€ ì•Šê³  ê·¸ëƒ¥ ë¬¸ìì—´ ê·¸ëŒ€ë¡œ ì €ì¥í•œë‹¤! ë”°ë¼ì„œ ì´ë¥¼ í†µí•´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤._
>
> _- `CUSTOM_FORMAT`ì„ í•œ ë²ˆì— ì •ê·œì‹ìœ¼ë¡œ ì €ì¥í•˜ì§€ ì•Šê³ , `CUSTOM_SEPARATOR_START`ì™€ `CUSTOM_SEPARATOR_END`ë¡œ ë‚˜ëˆ ì„œ ì €ì¥í•˜ì—¬ í•©ì¹œ ì´ìœ ?_
_`CUSTOM_SEPARATOR_START`ì™€ `CUSTOM_SEPARATOR_END`ë¥¼ ìƒìˆ˜ë¡œ ë”°ë¡œ ì €ì¥í•˜ì—¬, ì»¤ìŠ¤í…€ êµ¬ë¶„ìë¥¼ ì„¤ì •í•˜ëŠ” í˜•ì‹ì´ ë°”ë€Œë”ë¼ë„ ê°ê° ì¬ì„¤ì •í•  ìˆ˜ ìˆê²Œ í•˜ì˜€ê³ , ì´ë¥¼ ì¡°í•©í•˜ì—¬ `CUSTOM_FORMAT`ìœ¼ë¡œ ë§Œë“¤ì–´ ì •ê·œì‹ì˜ ê°€ë…ì„±ì„ ë†’ì´ë ¤ê³  í–ˆë‹¤._

### **4. ì‚¬ìš©ì ì…ë ¥ì´ ì˜ëª»ëì„ ê²½ìš°, `IllegalArgumentException`ì´ ë°œìƒë˜ë‚˜?**

```
class ApplicationTest extends NsTest {
...
  @Test
  @DisplayName("ì˜ëª»ëœ í˜•ì‹ì˜ ë¬¸ìì—´ì— ëŒ€í•œ ì˜ˆì™¸ ë°œìƒ")
  void í˜•ì‹ì—_ë§ì§€_ì•ŠëŠ”_ë¬¸ìì—´_í…ŒìŠ¤íŠ¸1() {
    assertSimpleTest(() ->
      assertThatThrownBy(() -> runException("aks3lii1ndm"))
      .isInstanceOf(IllegalArgumentException.class)
    );
  }
    
  @Test
  void í˜•ì‹ì—_ë§ì§€_ì•ŠëŠ”_ë¬¸ìì—´_í…ŒìŠ¤íŠ¸2() {
    assertSimpleTest(() ->
      assertThatThrownBy(() -> runException("1,,2,3"))
      .isInstanceOf(IllegalArgumentException.class)
    );
  }
    
  @Test
  void í˜•ì‹ì—_ë§ì§€_ì•ŠëŠ”_ë¬¸ìì—´_í…ŒìŠ¤íŠ¸3() {
    assertSimpleTest(() ->
      assertThatThrownBy(() -> runException("//\\n1234"))
      .isInstanceOf(IllegalArgumentException.class)
    );
  }
    
  @Test
  void í˜•ì‹ì—_ë§ì§€_ì•ŠëŠ”_ë¬¸ìì—´_í…ŒìŠ¤íŠ¸4() {
    assertSimpleTest(() ->
      assertThatThrownBy(() -> runException("//3\\n13233"))
      .isInstanceOf(IllegalArgumentException.class)
    );
  }
}
```

ì…ë ¥ëœ ë¬¸ìì—´ í˜•ì‹ì´ ì˜ëª»ë˜ì—ˆì„ ê²½ìš°, ì»¤ìŠ¤í…€ êµ¬ë¶„ìê°€ ê³µë°±(ì•„ë¬´ê²ƒë„ ì—†ìŒ)ì¸ ê²½ìš°, ì»¤ìŠ¤í…€ êµ¬ë¶„ìê°€ ìˆ«ìì¸ ê²½ìš°ì— ì›í•˜ëŠ” `IllegalArgumentException`ì´ ë°œìƒí•˜ì§€ ì•Šì•„ í…ŒìŠ¤íŠ¸ì— ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤.  
=> ê°ê° `IllegalArgumentException`ì´ ë°œìƒí•˜ë„ë¡ ì˜¤ë¥˜ë¥¼ ì§ì ‘ ë°œìƒì‹œì¼œ í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ `green`ì„ ë„ë„ë¡ í•´ì¤€ë‹¤.

> **_[ğŸ”¥ì§šê³  ë„˜ì–´ê°ˆ ë¶€ë¶„!!]_**
>
> _- ì»¤ìŠ¤í…€ êµ¬ë¶„ìê°€ `ìˆ«ì`ì´ë©´ ì•ˆ ë˜ëŠ” ì´ìœ ?_  
 _ë§Œì•½ì— ì»¤ìŠ¤í…€ êµ¬ë¶„ìê°€ `3`ì´ê³  ë¬¸ìì—´ì´ `132333`ì´ë©´ ê°™ì€ `3`ì„ êµ¬ë¶„ì `3`ì¸ì§€, ë”í•˜ê³  ì‹¶ì€ ìˆ«ì `3`ì¸ì§€ ì–´ë–»ê²Œ êµ¬ë³„í•  ìˆ˜ ìˆì„ê¹Œ í•˜ê³  ì •ë§ ë§ì´ ê³ ë¯¼í–ˆë‹¤. ì•„ë¬´ë¦¬ ê³ ë¯¼í•´ë„ `[1, 2, 33]` ì¸ì§€ `[1, 23, 3]`ì¸ì§€ êµ¬ë³„í•  ìˆ˜ ì—†ì„ ê±° ê°™ì•„ ì»¤ìŠ¤í…€ êµ¬ë¶„ìë¡œ ìˆ«ìë¥¼ ì…ë ¥í•´ë„ `IllegalArgumentException`ì„ ë°œìƒì‹œí‚¤ê¸°ë¡œ í–ˆë‹¤._

```
public class Application {
...
  public static int[] extractNumbers(String input, List<String> separators) {
    try {
      String separatorsRegex = String.join("|", separators);
      return Arrays.stream(input.split(separatorsRegex))
              .map(String::trim)
              .mapToInt(Integer::parseInt)
              .toArray();
    } catch (NumberFormatException e) {
      throw new IllegalArgumentException("ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ìê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.");
    }
  }

  public static String parseCustomSeparator(String input, List<String> separators) {
    Matcher matcher = Pattern.compile(CUSTOM_FORMAT).matcher(input);

    if (matcher.find() && !matcher.group(1).isEmpty()) {
      String customSeparator = matcher.group(1);  // ì»¤ìŠ¤í…€ êµ¬ë¶„ì
      String remainingInput = matcher.group(2);  // ë‚˜ë¨¸ì§€ ë¬¸ìì—´

      if (!Character.isDigit(customSeparator.charAt(0))) {
        separators.addFirst(Pattern.quote(customSeparator));
        return remainingInput;
      }
    }
    throw new IllegalArgumentException("ì»¤ìŠ¤í…€ êµ¬ë¶„ì í˜•ì‹ì´ í‹€ë ¸ìŠµë‹ˆë‹¤.");
  }
}
```

ì‚¬ìš©ì ì…ë ¥ì´ ì˜¬ë°”ë¥´ì§€ ì•Šì•„ `input.split(separatorsRegex)` ê³¼ì •ì—ì„œ ì¶”ì¶œí•œ ë°°ì—´ì— ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ìê°€ ë‹´ê²¨ ìˆì„ ìˆ˜ ìˆë‹¤. ê·¸ë ‡ë‹¤ë©´, `mapToInt(Integer::parseInt)` ê³¼ì •ì—ì„œ `NumberFormatException` ì´ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ì´ ì˜¤ë¥˜ë¥¼ `catch` í•˜ì—¬ ìš”êµ¬ì‚¬í•­ì— ë§í•˜ëŠ” `IllegalArgumentException`ì„ ë°œìƒì‹œí‚¨ë‹¤.

ê·¸ë¦¬ê³  `parseCustomSeparator` í•¨ìˆ˜ì— `!matcher.group(1).isEmpty( )` ì¡°ê±´ë¬¸ì„ ì¶”ê°€í•˜ì—¬, ì»¤ìŠ¤í…€ êµ¬ë¶„ìê°€ ì—†ëŠ” ê²½ìš°ì™€ `Character.isDigit(customSeparator.charAt(0)` ì¡°ê±´ë¬¸ì„ ì¶”ê°€í•˜ì—¬ ì»¤ìŠ¤í…€ êµ¬ë¶„ìê°€ ìˆ«ìì¸ ê²½ìš° ëª¨ë‘ `IllegalArgumentException`ì„ ë°œìƒì‹œí‚¨ë‹¤.

### **5. ë¹ˆ ë¬¸ìì—´ì„ ì…ë ¥í–ˆì„ ë•Œ, ê²°ê³¼ê°€ 0ìœ¼ë¡œ ë‚˜ì˜¤ë‚˜?**

```
class ApplicationTest extends NsTest {
...
  @Test
  @DisplayName("ë¹ˆ ë¬¸ìì—´ ì…ë ¥ ì‹œ ê²°ê³¼ëŠ” 0")
  void ë¹ˆë¬¸ìì—´_í…ŒìŠ¤íŠ¸() {
    assertSimpleTest(() -> {
      run("\n");
      assertThat(output()).contains("0");
    });
  }
}
```

ë‹¨ìˆœíˆ ì•„ë¬´ ì…ë ¥ í•˜ì§€ ì•Šê³  ì—”í„°(`\n`)ë§Œ ì³¤ì„ ë•Œ 0ìœ¼ë¡œ ê³„ì‚°ë˜ì§€ ì•Šì•„ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤.  
=> ì•„ë¬´ê²ƒë„ ì…ë ¥í•˜ì§€ ì•Šë”ë¼ë„ `0`ìœ¼ë¡œ ì¶œë ¥ë˜ë„ë¡ í•˜ì—¬ í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ `green`ì„ ë„ë„ë¡ í•´ì¤€ë‹¤.

```
public class Application {
...
  public static boolean inputIsEmpty(String input) {
    return input == null || input.trim().isEmpty();
  }

  public static int calculateSum(String input, List<String> separators) {
    if (inputIsEmpty(input)) {
      return 0;
    }

    if (hasCustomSeparator(input)) {
      input = parseCustomSeparator(input, separators);
    }

    int[] numbers = extractNumbers(input, separators);
    return sum(numbers);
  }
}
```

ì²˜ìŒì— `input`ì„ ë°›ê³ , í•´ë‹¹ `input`ì´ ë¹„ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” `inputIsEmpty`í•¨ìˆ˜ë¥¼ ì¶”ê°€í•˜ì—¬ ë¹„ì—ˆìœ¼ë©´ í•©ê³„ë¡œ `0`ì„ ë¦¬í„´í•˜ë„ë¡ í•˜ì˜€ë‹¤.

### **6. ìŒìˆ˜ê°€ í¬í•¨ë˜ì—ˆì„ ê²½ìš°, `IllegalArgumentException`ì´ ë°œìƒë˜ë‚˜?**

```
class ApplicationTest extends NsTest {
...
  @Test
  @DisplayName("ìŒìˆ˜ í¬í•¨ ì‹œ ì˜ˆì™¸ ë°œìƒ")
  void ìŒìˆ˜_í¬í•¨_ì˜ˆì™¸_í…ŒìŠ¤íŠ¸() {
    assertSimpleTest(() ->
      assertThatThrownBy(() -> runException("-1,2,3"))
      .isInstanceOf(IllegalArgumentException.class)
   );
 }
}
```

ìŒìˆ˜ê°€ ì…ë ¥ëì„ ë•Œ `IllegalArgumentException`ì´ ë°œìƒí•˜ì§€ ì•Šì•„ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤.  
=> ìˆ«ìê°€ ìŒìˆ˜ì´ë©´ `IllegalArgumentException`ì„ ë°œìƒì‹œì¼œ í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ `green`ì„ ë„ë„ë¡ í•´ì¤€ë‹¤.

```
public class Application {
...
  public static int[] extractNumbers(String input, List<String> separators) {
    try {
      String separatorsRegex = String.join("|", separators);
      return Arrays.stream(input.split(separatorsRegex))
              .map(String::trim)
              .mapToInt(Integer::parseInt)
              .peek(Application::validateNonNegative)
              .toArray();
    } catch (NumberFormatException e) {
      throw new IllegalArgumentException("ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ìê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.");
    }
  }

  public static void validateNonNegative(int number) {
    if (number < 0) {
      throw new IllegalArgumentException("ìŒìˆ˜ëŠ” í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤: " + number);
    }
  }
}
```

`extractNumbers` í•¨ìˆ˜ì— `peek(Application::validateNonNegative)`ë¥¼ ì¶”ê°€í•´ì„œ, ìŒìˆ˜ì´ë©´ `IllegalArgumentException`ì„ ë°œìƒì‹œí‚¤ëŠ” `validateNonNegative` í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ê°ê° ìˆ«ìë“¤ì´ ìŒìˆ˜ì¸ì§€ í™•ì¸í•˜ë„ë¡ í•œë‹¤.

### **7. ì¶œë ¥ í˜•ì‹ì´ ì˜¬ë°”ë¥´ê²Œ ë‚˜ì˜¤ë‚˜?**

```
class ApplicationTest extends NsTest {
...
  @Test
  @DisplayName("ì¶œë ¥ í˜•ì‹ì´ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë¨")
  void ì¶œë ¥_í˜•ì‹_í…ŒìŠ¤íŠ¸() {
    assertSimpleTest(() -> {
      run("///\\n1/2,3:4");
      assertThat(output()).contains("ë§ì…ˆí•  ë¬¸ìì—´ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
      assertThat(output()).contains("ê²°ê³¼ : 10");
    });
  }
}
```

ì¶œë ¥ ê²°ê³¼ê°€ ìš”êµ¬ì‚¬í•­ê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥ë˜ì§€ ì•Šì•„ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤.  
=> ìš”êµ¬ì‚¬í•­ì— ë”°ë¥¸ ì¶œë ¥ ê²°ê³¼ëŒ€ë¡œ ì¶œë ¥í•˜ë„ë¡ í•˜ì—¬ í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ `green`ì„ ë„ë„ë¡ í•´ì¤€ë‹¤.

```
public class Application {
...
  public static void printInstructions() {
    System.out.println("ë§ì…ˆí•  ë¬¸ìì—´ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
  }

  public static void printResult(int sumValue) {
    System.out.println("ê²°ê³¼ : " + sumValue);
  }
    
  public static void main(String[] args) {
    printInstructions();
    String input = readLine();
    int sumValue = calculateSum(input, separators);
    printResult(sumValue);
  }
}
```

`ë§ì…ˆí•  ë¬¸ìì—´ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.`ë¥¼ ì¶œë ¥í•˜ëŠ” `printInstructions` í•¨ìˆ˜ì™€ `ê²°ê³¼ : (ê²°ê³¼ê°’)`ì„ ì¶œë ¥í•˜ëŠ” `printResult` í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì£¼ì–´, `main`í•¨ìˆ˜ì—ì„œ ìš”êµ¬ì‚¬í•­ì˜ ì¶œë ¥ ê²°ê³¼ëŒ€ë¡œ ì¶œë ¥í•˜ë„ë¡ í•˜ì˜€ë‹¤.

## **ì •ì œ**

```
class ApplicationTest extends NsTest {
...
  @ParameterizedTest(name = "ì»¤ìŠ¤í…€ êµ¬ë¶„ì: \"{0}\" -> ê²°ê³¼: {1}")
  @CsvSource({
          "'//;\\n1', 1",
          "'//.\\n1', 1",
          "'//\\t\\n1\\t2\\t3,4', 10"
  })
  @DisplayName("ì»¤ìŠ¤í…€ êµ¬ë¶„ìë¥¼ ì‚¬ìš©í•œ ë¬¸ìì—´ ë§ì…ˆ")
  void ì»¤ìŠ¤í…€_êµ¬ë¶„ì_ì‚¬ìš©_í…ŒìŠ¤íŠ¸(String input, int expectedSum) {
    assertSimpleTest(() -> {
      run(input);
      assertThat(output()).contains("ê²°ê³¼ : " + expectedSum);
    });
  }

  @ParameterizedTest(name = "ì˜ëª»ëœ ì…ë ¥: \"{0}\"")
  @CsvSource({
          "'aks3lii1ndm'",
          "'1,,2,3'",
          "'//\\n1234'",
          "'//3\\n13233'"
  })
  @DisplayName("ì˜ëª»ëœ í˜•ì‹ì˜ ë¬¸ìì—´ì— ëŒ€í•œ ì˜ˆì™¸ ë°œìƒ")
  void í˜•ì‹ì—_ë§ì§€_ì•ŠëŠ”_ë¬¸ìì—´_í…ŒìŠ¤íŠ¸(String input) {
    assertSimpleTest(() ->
      assertThatThrownBy(() -> runException(input))
      .isInstanceOf(IllegalArgumentException.class)
    );
  }
}
```

`JUnit5`ì˜ `ParameterizedTest`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¤‘ë³µëœ íŒ¨í„´ì„ ì œê±°í•˜ê³  ìœ ì‚¬í•œ í…ŒìŠ¤íŠ¸ë¥¼ ê·¸ë£¹í™”í•˜ì˜€ë‹¤.

![ìŠ¤í¬ë¦°ìƒ· 2024-10-18 231131](https://gist.github.com/user-attachments/assets/f73a0ea5-b1fb-43e0-89c5-ece92b117de2)

ëª¨ë“  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ í†µê³¼í•˜ì˜€ë‹¤ ~~~~~~~~~ !!